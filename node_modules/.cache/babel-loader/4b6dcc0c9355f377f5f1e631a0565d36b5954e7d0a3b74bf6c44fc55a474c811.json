{"ast":null,"code":"import React,{createContext,useContext,useReducer}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const CartStateContext=/*#__PURE__*/createContext();const CartDispatchContext=/*#__PURE__*/createContext();const reducer=(state,action)=>{switch(action.type){case\"ADD\":return[...state,{id:action.id,name:action.name,qty:action.qty,size:action.size,price:action.price,img:action.img}];case\"REMOVE\":let newArr=[...state];newArr.splice(action.index,1);return newArr;case\"DROP\":let empArray=[];return empArray;case\"UPDATE\":let arr=[...state];arr.find((food,index)=>{if(food.id===action.id){console.log(food.qty,parseInt(action.qty),parseInt(action.price)+parseInt(food.price));arr[index]={...food,qty:parseInt(action.qty)+parseInt(food.qty),price:parseInt(action.price)+parseInt(food.price)};}return arr;});return arr;default:console.log(\"error\");}};export const CartProvider=_ref=>{let{children}=_ref;const[state,dispatch]=useReducer(reducer,[]);return/*#__PURE__*/_jsx(CartDispatchContext.Provider,{value:dispatch,children:/*#__PURE__*/_jsx(CartStateContext.Provider,{value:state,children:children})});};export const useCart=()=>useContext(CartStateContext);export const useDispatchCart=()=>useContext(CartDispatchContext);","map":{"version":3,"names":["React","createContext","useContext","useReducer","jsx","_jsx","CartStateContext","CartDispatchContext","reducer","state","action","type","id","name","qty","size","price","img","newArr","splice","index","empArray","arr","find","food","console","log","parseInt","CartProvider","_ref","children","dispatch","Provider","value","useCart","useDispatchCart"],"sources":["F:/foodapp/foodapp/foodApp_MERN/src/components/ContextReducer.js"],"sourcesContent":["import React, { createContext, useContext, useReducer } from 'react';\r\n\r\nconst CartStateContext = createContext();\r\nconst CartDispatchContext = createContext();\r\n\r\nconst reducer = (state, action) => {\r\n\r\n    switch (action.type) {\r\n        case \"ADD\":\r\n            return [...state, { id: action.id, name: action.name, qty: action.qty, size: action.size, price: action.price, img: action.img }]\r\n        case \"REMOVE\":\r\n            let newArr = [...state]\r\n            newArr.splice(action.index, 1)\r\n            return newArr;\r\n        case \"DROP\":\r\n            let empArray = []\r\n            return empArray\r\n        case \"UPDATE\":\r\n            let arr = [...state]\r\n            arr.find((food, index) => {\r\n                if (food.id === action.id) {\r\n                    console.log(food.qty, parseInt(action.qty), parseInt(action.price) + parseInt(food.price))\r\n                    arr[index] = { ...food, qty: parseInt(action.qty) + parseInt(food.qty), price: parseInt(action.price) + parseInt(food.price) }\r\n                }\r\n                return arr\r\n            })\r\n            return arr\r\n        default:\r\n            console.log(\"error\");\r\n    }\r\n\r\n}\r\n\r\nexport const CartProvider = ({ children }) => {\r\n\r\n    const [state, dispatch] = useReducer(reducer, []);\r\n\r\n    return (\r\n        <CartDispatchContext.Provider value={dispatch}>\r\n            <CartStateContext.Provider value={state}>\r\n                {children}\r\n            </CartStateContext.Provider>\r\n        </CartDispatchContext.Provider>\r\n    )\r\n\r\n}\r\n\r\n\r\nexport const useCart = () => useContext(CartStateContext);\r\nexport const useDispatchCart = () => useContext(CartDispatchContext);"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,UAAU,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAErE,KAAM,CAAAC,gBAAgB,cAAGL,aAAa,CAAC,CAAC,CACxC,KAAM,CAAAM,mBAAmB,cAAGN,aAAa,CAAC,CAAC,CAE3C,KAAM,CAAAO,OAAO,CAAGA,CAACC,KAAK,CAAEC,MAAM,GAAK,CAE/B,OAAQA,MAAM,CAACC,IAAI,EACf,IAAK,KAAK,CACN,MAAO,CAAC,GAAGF,KAAK,CAAE,CAAEG,EAAE,CAAEF,MAAM,CAACE,EAAE,CAAEC,IAAI,CAAEH,MAAM,CAACG,IAAI,CAAEC,GAAG,CAAEJ,MAAM,CAACI,GAAG,CAAEC,IAAI,CAAEL,MAAM,CAACK,IAAI,CAAEC,KAAK,CAAEN,MAAM,CAACM,KAAK,CAAEC,GAAG,CAAEP,MAAM,CAACO,GAAI,CAAC,CAAC,CACrI,IAAK,QAAQ,CACT,GAAI,CAAAC,MAAM,CAAG,CAAC,GAAGT,KAAK,CAAC,CACvBS,MAAM,CAACC,MAAM,CAACT,MAAM,CAACU,KAAK,CAAE,CAAC,CAAC,CAC9B,MAAO,CAAAF,MAAM,CACjB,IAAK,MAAM,CACP,GAAI,CAAAG,QAAQ,CAAG,EAAE,CACjB,MAAO,CAAAA,QAAQ,CACnB,IAAK,QAAQ,CACT,GAAI,CAAAC,GAAG,CAAG,CAAC,GAAGb,KAAK,CAAC,CACpBa,GAAG,CAACC,IAAI,CAAC,CAACC,IAAI,CAAEJ,KAAK,GAAK,CACtB,GAAII,IAAI,CAACZ,EAAE,GAAKF,MAAM,CAACE,EAAE,CAAE,CACvBa,OAAO,CAACC,GAAG,CAACF,IAAI,CAACV,GAAG,CAAEa,QAAQ,CAACjB,MAAM,CAACI,GAAG,CAAC,CAAEa,QAAQ,CAACjB,MAAM,CAACM,KAAK,CAAC,CAAGW,QAAQ,CAACH,IAAI,CAACR,KAAK,CAAC,CAAC,CAC1FM,GAAG,CAACF,KAAK,CAAC,CAAG,CAAE,GAAGI,IAAI,CAAEV,GAAG,CAAEa,QAAQ,CAACjB,MAAM,CAACI,GAAG,CAAC,CAAGa,QAAQ,CAACH,IAAI,CAACV,GAAG,CAAC,CAAEE,KAAK,CAAEW,QAAQ,CAACjB,MAAM,CAACM,KAAK,CAAC,CAAGW,QAAQ,CAACH,IAAI,CAACR,KAAK,CAAE,CAAC,CAClI,CACA,MAAO,CAAAM,GAAG,CACd,CAAC,CAAC,CACF,MAAO,CAAAA,GAAG,CACd,QACIG,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC,CAC5B,CAEJ,CAAC,CAED,MAAO,MAAM,CAAAE,YAAY,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAErC,KAAM,CAACpB,KAAK,CAAEsB,QAAQ,CAAC,CAAG5B,UAAU,CAACK,OAAO,CAAE,EAAE,CAAC,CAEjD,mBACIH,IAAA,CAACE,mBAAmB,CAACyB,QAAQ,EAACC,KAAK,CAAEF,QAAS,CAAAD,QAAA,cAC1CzB,IAAA,CAACC,gBAAgB,CAAC0B,QAAQ,EAACC,KAAK,CAAExB,KAAM,CAAAqB,QAAA,CACnCA,QAAQ,CACc,CAAC,CACF,CAAC,CAGvC,CAAC,CAGD,MAAO,MAAM,CAAAI,OAAO,CAAGA,CAAA,GAAMhC,UAAU,CAACI,gBAAgB,CAAC,CACzD,MAAO,MAAM,CAAA6B,eAAe,CAAGA,CAAA,GAAMjC,UAAU,CAACK,mBAAmB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}