{"ast":null,"code":"import React from'react';import Delete from'@mui/icons-material/Delete';import{useCart,useDispatchCart}from'../components/ContextReducer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Cart(){let data=useCart();let dispatch=useDispatchCart();if(data.length===0){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"m-5 w-100 text-center fs-3 text-white\",children:\"The Cart is Empty!\"})});}const handleCheckOut=async()=>{let userEmail=localStorage.getItem(\"userEmail\");let response=await fetch(\"http://localhost:5000/api/orderData\",{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({order_data:data,email:userEmail,order_date:new Date().toDateString(),order_id:new Date().getTime().toString(36)})});console.log(response);if(response.status===200){dispatch({type:\"DROP\"});}};let totalPrice=data.reduce((total,food)=>total+food.price,0);return/*#__PURE__*/_jsxs(\"div\",{className:\"text-white\",children:[console.log(data),/*#__PURE__*/_jsxs(\"div\",{className:\"container m-auto mt-5 table-responsive  table-responsive-sm table-responsive-md text-white\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table \",children:[/*#__PURE__*/_jsx(\"thead\",{className:\" text-success fs-4\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Option\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map((food,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"text-white\",children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:food.name}),/*#__PURE__*/_jsx(\"td\",{children:food.qty}),/*#__PURE__*/_jsx(\"td\",{children:food.size}),/*#__PURE__*/_jsx(\"td\",{children:food.price}),/*#__PURE__*/_jsxs(\"td\",{className:\"\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn p-0 bg-danger\",children:/*#__PURE__*/_jsx(Delete,{onClick:()=>{dispatch({type:\"REMOVE\",index:index});}})}),\" \"]})]}))})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h1\",{className:\"fs-2\",children:[\"Total Price: \",totalPrice,\"/-\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn bg-success mt-5 text-white \",onClick:handleCheckOut,children:\" Check Out \"})})]})]});}","map":{"version":3,"names":["React","Delete","useCart","useDispatchCart","jsx","_jsx","jsxs","_jsxs","Cart","data","dispatch","length","children","className","handleCheckOut","userEmail","localStorage","getItem","response","fetch","method","headers","body","JSON","stringify","order_data","email","order_date","Date","toDateString","order_id","getTime","toString","console","log","status","type","totalPrice","reduce","total","food","price","scope","map","index","name","qty","size","onClick"],"sources":["F:/foodapp/foodapp/foodApp_MERN/src/screens/Cart.js"],"sourcesContent":["import React from 'react'\r\nimport Delete from '@mui/icons-material/Delete'\r\nimport { useCart, useDispatchCart } from '../components/ContextReducer';\r\nexport default function Cart() {\r\n  let data = useCart();\r\n  let dispatch = useDispatchCart();\r\n  if (data.length === 0) {\r\n    return (\r\n      <div>\r\n        <div className='m-5 w-100 text-center fs-3 text-white'>The Cart is Empty!</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const handleCheckOut = async () => {\r\n    let userEmail = localStorage.getItem(\"userEmail\");\r\n\r\n    let response = await fetch(\"http://localhost:5000/api/orderData\", {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        order_data: data,\r\n        email: userEmail,\r\n        order_date: new Date().toDateString(),\r\n        order_id: (new Date().getTime()).toString(36)\r\n      })\r\n    });\r\n    console.log(response);\r\n    if (response.status === 200) {\r\n      dispatch({ type: \"DROP\" })\r\n    }\r\n  }\r\n\r\n  let totalPrice = data.reduce((total, food) => total + food.price, 0)\r\n  return (\r\n    <div className='text-white'>\r\n\r\n      {console.log(data)}\r\n      <div className='container m-auto mt-5 table-responsive  table-responsive-sm table-responsive-md text-white' >\r\n        <table className='table '>\r\n          <thead className=' text-success fs-4'>\r\n            <tr>\r\n              <th scope='col' >#</th>\r\n              <th scope='col' >Name</th>\r\n              <th scope='col' >Quantity</th>\r\n              <th scope='col' >Option</th>\r\n              <th scope='col' >Amount</th>\r\n              <th scope='col' ></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {data.map((food, index) => (\r\n              <tr className='text-white'>\r\n                <th scope='row' >{index + 1}</th>\r\n                <td >{food.name}</td>\r\n                <td>{food.qty}</td>\r\n                <td>{food.size}</td>\r\n                <td>{food.price}</td>\r\n                <td className=''><button type=\"button\" className=\"btn p-0 bg-danger\"><Delete onClick={() => { dispatch({ type: \"REMOVE\", index: index }) }} /></button> </td></tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n        <div><h1 className='fs-2'>Total Price: {totalPrice}/-</h1></div>\r\n        <div>\r\n          <button className='btn bg-success mt-5 text-white ' onClick={handleCheckOut} > Check Out </button>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n    </div>\r\n  )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}